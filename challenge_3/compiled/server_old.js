
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
var path = require('path');
var db = require('./database/index.js');

app.use(bodyParser.json());
console.log(path.join(__dirname, './compiled/client'));
app.use(express.static(path.join(__dirname, './compiled/client')));

app.get('/customer_info', (req, res) => {
  db.getId((err, results) => {
    if (err) {
      res.status(500);
    } else {
      res.send(results);
    }
  });
});

app.post('/customer_info', (req, res) => {
  console.log('req.body = ', req.body);
  db.insertCustomer(first_name, last_name, email, pw, (err, results) => {
    if (err) {
      req.status(500).send();
    } else {
      res.status(201).send();
    }
  });
});

app.listen(3000, () => {
  console.log('listening on port ', 3000);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlcl9vbGQuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhcHAiLCJib2R5UGFyc2VyIiwicGF0aCIsImRiIiwidXNlIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJqb2luIiwiX19kaXJuYW1lIiwic3RhdGljIiwiZ2V0IiwicmVxIiwicmVzIiwiZ2V0SWQiLCJlcnIiLCJyZXN1bHRzIiwic3RhdHVzIiwic2VuZCIsInBvc3QiLCJib2R5IiwiaW5zZXJ0Q3VzdG9tZXIiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiZW1haWwiLCJwdyIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IjtBQUNBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsTUFBTUYsU0FBVjtBQUNBLElBQUlHLGFBQWFGLFFBQVEsYUFBUixDQUFqQjtBQUNBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUksS0FBS0osUUFBUSxxQkFBUixDQUFUOztBQUVBQyxJQUFJSSxHQUFKLENBQVFILFdBQVdJLElBQVgsRUFBUjtBQUNBQyxRQUFRQyxHQUFSLENBQVlMLEtBQUtNLElBQUwsQ0FBVUMsU0FBVixFQUFxQixtQkFBckIsQ0FBWjtBQUNBVCxJQUFJSSxHQUFKLENBQVFOLFFBQVFZLE1BQVIsQ0FBZVIsS0FBS00sSUFBTCxDQUFVQyxTQUFWLEVBQXFCLG1CQUFyQixDQUFmLENBQVI7O0FBRUFULElBQUlXLEdBQUosQ0FBUSxnQkFBUixFQUEwQixDQUFDQyxHQUFELEVBQUtDLEdBQUwsS0FBYTtBQUNyQ1YsS0FBR1csS0FBSCxDQUFTLENBQUNDLEdBQUQsRUFBTUMsT0FBTixLQUFrQjtBQUN6QixRQUFJRCxHQUFKLEVBQVM7QUFDUEYsVUFBSUksTUFBSixDQUFXLEdBQVg7QUFDRCxLQUZELE1BRU87QUFDTEosVUFBSUssSUFBSixDQUFTRixPQUFUO0FBQ0Q7QUFDRixHQU5EO0FBT0QsQ0FSRDs7QUFVQWhCLElBQUltQixJQUFKLENBQVMsZ0JBQVQsRUFBMkIsQ0FBQ1AsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkNQLFVBQVFDLEdBQVIsQ0FBWSxhQUFaLEVBQTJCSyxJQUFJUSxJQUEvQjtBQUNBakIsS0FBR2tCLGNBQUgsQ0FBa0JDLFVBQWxCLEVBQThCQyxTQUE5QixFQUF5Q0MsS0FBekMsRUFBZ0RDLEVBQWhELEVBQW9ELENBQUNWLEdBQUQsRUFBTUMsT0FBTixLQUFrQjtBQUNwRSxRQUFJRCxHQUFKLEVBQVM7QUFDUEgsVUFBSUssTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xMLFVBQUlJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQjtBQUNEO0FBQ0YsR0FORDtBQU9ELENBVEQ7O0FBV0FsQixJQUFJMEIsTUFBSixDQUFXLElBQVgsRUFBaUIsTUFBTTtBQUFDcEIsVUFBUUMsR0FBUixDQUFZLG9CQUFaLEVBQWtDLElBQWxDO0FBQXdDLENBQWhFIiwiZmlsZSI6InNlcnZlcl9vbGQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpO1xudmFyIGFwcCA9IGV4cHJlc3MoKTtcbnZhciBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGRiID0gcmVxdWlyZSgnLi9kYXRhYmFzZS9pbmRleC5qcycpO1xuXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmNvbnNvbGUubG9nKHBhdGguam9pbihfX2Rpcm5hbWUsICcuL2NvbXBpbGVkL2NsaWVudCcpKVxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi9jb21waWxlZC9jbGllbnQnKSkpO1xuXG5hcHAuZ2V0KCcvY3VzdG9tZXJfaW5mbycsIChyZXEscmVzKSA9PiB7XG4gIGRiLmdldElkKChlcnIsIHJlc3VsdHMpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zZW5kKHJlc3VsdHMpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuYXBwLnBvc3QoJy9jdXN0b21lcl9pbmZvJywgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdyZXEuYm9keSA9ICcsIHJlcS5ib2R5KTtcbiAgZGIuaW5zZXJ0Q3VzdG9tZXIoZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCwgcHcsIChlcnIsIHJlc3VsdHMpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXEuc3RhdHVzKDUwMCkuc2VuZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCgpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuYXBwLmxpc3RlbigzMDAwLCAoKSA9PiB7Y29uc29sZS5sb2coJ2xpc3RlbmluZyBvbiBwb3J0ICcsIDMwMDApfSk7XG5cbiJdfQ==