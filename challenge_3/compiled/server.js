
var express = require('express');
var app = express();
var bodyParser = require('body-parser');
var path = require('path');
var db = require('./database/index.js');

app.use(bodyParser.json());
console.log(path.join(__dirname, './compiled/client'));
app.use(express.static(path.join(__dirname, './compiled/client')));

app.get('/customer_info', (req, res) => {
  db.getId((err, results) => {
    if (err) {
      res.status(500);
    } else {
      res.send(results);
    }
  });
});

app.post('/customer_info', (req, res) => {
  console.log('req.body = ', req.body);
  db.insertCustomer(first_name, last_name, email, pw, (err, results) => {
    if (err) {
      req.status(500).send();
    } else {
      res.status(201).send();
    }
  });
});

app.listen(3000, () => {
  console.log('listening on port ', 3000);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImJvZHlQYXJzZXIiLCJwYXRoIiwiZGIiLCJ1c2UiLCJqc29uIiwiY29uc29sZSIsImxvZyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJzdGF0aWMiLCJnZXQiLCJyZXEiLCJyZXMiLCJnZXRJZCIsImVyciIsInJlc3VsdHMiLCJzdGF0dXMiLCJzZW5kIiwicG9zdCIsImJvZHkiLCJpbnNlcnRDdXN0b21lciIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJlbWFpbCIsInB3IiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiO0FBQ0EsSUFBSUEsVUFBVUMsUUFBUSxTQUFSLENBQWQ7QUFDQSxJQUFJQyxNQUFNRixTQUFWO0FBQ0EsSUFBSUcsYUFBYUYsUUFBUSxhQUFSLENBQWpCO0FBQ0EsSUFBSUcsT0FBT0gsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJSSxLQUFLSixRQUFRLHFCQUFSLENBQVQ7O0FBRUFDLElBQUlJLEdBQUosQ0FBUUgsV0FBV0ksSUFBWCxFQUFSO0FBQ0FDLFFBQVFDLEdBQVIsQ0FBWUwsS0FBS00sSUFBTCxDQUFVQyxTQUFWLEVBQXFCLG1CQUFyQixDQUFaO0FBQ0FULElBQUlJLEdBQUosQ0FBUU4sUUFBUVksTUFBUixDQUFlUixLQUFLTSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsbUJBQXJCLENBQWYsQ0FBUjs7QUFFQVQsSUFBSVcsR0FBSixDQUFRLGdCQUFSLEVBQTBCLENBQUNDLEdBQUQsRUFBS0MsR0FBTCxLQUFhO0FBQ3JDVixLQUFHVyxLQUFILENBQVMsQ0FBQ0MsR0FBRCxFQUFNQyxPQUFOLEtBQWtCO0FBQ3pCLFFBQUlELEdBQUosRUFBUztBQUNQRixVQUFJSSxNQUFKLENBQVcsR0FBWDtBQUNELEtBRkQsTUFFTztBQUNMSixVQUFJSyxJQUFKLENBQVNGLE9BQVQ7QUFDRDtBQUNGLEdBTkQ7QUFPRCxDQVJEOztBQVVBaEIsSUFBSW1CLElBQUosQ0FBUyxnQkFBVCxFQUEyQixDQUFDUCxHQUFELEVBQU1DLEdBQU4sS0FBYztBQUN2Q1AsVUFBUUMsR0FBUixDQUFZLGFBQVosRUFBMkJLLElBQUlRLElBQS9CO0FBQ0FqQixLQUFHa0IsY0FBSCxDQUFrQkMsVUFBbEIsRUFBOEJDLFNBQTlCLEVBQXlDQyxLQUF6QyxFQUFnREMsRUFBaEQsRUFBb0QsQ0FBQ1YsR0FBRCxFQUFNQyxPQUFOLEtBQWtCO0FBQ3BFLFFBQUlELEdBQUosRUFBUztBQUNQSCxVQUFJSyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEI7QUFDRCxLQUZELE1BRU87QUFDTEwsVUFBSUksTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCO0FBQ0Q7QUFDRixHQU5EO0FBT0QsQ0FURDs7QUFXQWxCLElBQUkwQixNQUFKLENBQVcsSUFBWCxFQUFpQixNQUFNO0FBQUNwQixVQUFRQyxHQUFSLENBQVksb0JBQVosRUFBa0MsSUFBbEM7QUFBd0MsQ0FBaEUiLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciBhcHAgPSBleHByZXNzKCk7XG52YXIgYm9keVBhcnNlciA9IHJlcXVpcmUoJ2JvZHktcGFyc2VyJyk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnZhciBkYiA9IHJlcXVpcmUoJy4vZGF0YWJhc2UvaW5kZXguanMnKTtcblxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5jb25zb2xlLmxvZyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi9jb21waWxlZC9jbGllbnQnKSlcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4vY29tcGlsZWQvY2xpZW50JykpKTtcblxuYXBwLmdldCgnL2N1c3RvbWVyX2luZm8nLCAocmVxLHJlcykgPT4ge1xuICBkYi5nZXRJZCgoZXJyLCByZXN1bHRzKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc2VuZChyZXN1bHRzKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmFwcC5wb3N0KCcvY3VzdG9tZXJfaW5mbycsIChyZXEsIHJlcykgPT4ge1xuICBjb25zb2xlLmxvZygncmVxLmJvZHkgPSAnLCByZXEuYm9keSk7XG4gIGRiLmluc2VydEN1c3RvbWVyKGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgZW1haWwsIHB3LCAoZXJyLCByZXN1bHRzKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVxLnN0YXR1cyg1MDApLnNlbmQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbmFwcC5saXN0ZW4oMzAwMCwgKCkgPT4ge2NvbnNvbGUubG9nKCdsaXN0ZW5pbmcgb24gcG9ydCAnLCAzMDAwKX0pO1xuXG4iXX0=